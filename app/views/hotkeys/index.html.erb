<div id="programs">
    <div class="program">
      <div class="program-name">
      <h2>Popular Shortcuts</h2><h3>									Click on the blue bar to expand<h3>
      </div>
      <div class="hotkey-titles" id="hotkey-titles">
        <div class="hotkey-details">
          <h3>Keystroke</h3>
        </div>
        <div class="hotkey-details">
          <h3>Description</h3>
        </div>
        <div class="hotkey-details">
          <h3>Number of Favorites</h3>
        </div>
      </div>
      <% @hotkeys.order(:numOfFavorite).reverse.each do |hotkey| %>
            <div class="hotkey-titles2">
              <div class="hotkey-details">
                <p><%= hotkey.keystrokes %></p>
              </div>
              <div class="hotkey-details">
                <p><%= hotkey.description %></p>
              </div>
              <div class="hotkey-details">
                <p><%= hotkey.numOfFavorite %></p>
                <% if @current_user.hotkeys.include?(hotkey) %>
                  <p><%= link_to '&#x2665'.html_safe, remove_favorite_program_hotkey_path(hotkey.program, hotkey), method: :delete, :class => "fave" %></p>
                <% else %>
                  <p><%= link_to 'Add to Favorites', add_favorite_program_hotkey_path(hotkey.program, hotkey), method: :post %></p>
                <% end %>
              </div>
            </div>
      <% end %>
  </div>
</div>
<script> 
if (!programs){
  let programs;
} 
programs = document.getElementsByClassName('program-name')
for (let i = 0; i < programs.length; i++){
  programs[i].addEventListener("click", () => visibilityFunc(event.target))
}
function visibilityFunc(program) {
  let nodeList = program.parentNode.childNodes
  console.log(nodeList)
  for (let j=5; j < nodeList.length; j++){
    let x = nodeList[j]
    console.log(x.style)
    if (x.style !== undefined && x.style.display === ''){
      console.log("hit1")
      x.style.display = 'flex'
    }else if(x.style !== undefined && x.style.display === 'flex'){
      console.log("hit2")
      x.style.display = ''
    }
    else {
      console.log("hit3")
    }
  }
}
</script>