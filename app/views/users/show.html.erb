<h1>Favorites</h1>
<div id="programs">
  <% @sort_favorites.each do |program, hotkeys| %>
    <div class="program">
      <div class="program-name">
      <h2 style="display:inline-block;"><%= program.name %></h2><h3>Click on this blue bar to expand</h3>
      </div>
      <div class="hotkey-titles" id="hotkey-titles">
        <div class="hotkey-details">
          <h3>Keystroke</h3>
        </div>
        <div class="hotkey-details">
          <h3>Description</h3>
        </div>
        <div class="hotkey-details">
          <h3>Remove from Favorites</h3>
        </div>
      </div>
      <% hotkeys.each do |hotkey| %>
            <div class="hotkey-titles2">
              <div class="hotkey-details">
                <p><%= hotkey.keystrokes %></p>
              </div>
              <div class="hotkey-details">
                <p><%= hotkey.description %></p>
              </div>
              <div class="hotkey-details">
                <p><%= link_to 'Remove from Favorites', remove_favorite_program_hotkey_path(hotkey.program, hotkey), method: :delete %></p>
              </div>
            </div>
      <% end %>
  </div>
  <% end %>
</div>
<script>
console.log("hit5")
if (!programs){
let programs;
} 
programs = document.getElementsByClassName('program-name')
for (let i = 0; i < programs.length; i++){
  console.log("hit4")
  programs[i].addEventListener("click", () => visibilityFunc(event.target))
}
function visibilityFunc(program) {
  let nodeList = program.parentNode.childNodes
  console.log(nodeList)
  for (let j=5; j < nodeList.length; j++){
    let x = nodeList[j]
    console.log(x.style)
    if (x.style !== undefined && x.style.display === ''){
      x.style.display = 'flex'
    }else if(x.style !== undefined && x.style.display === 'flex'){
      x.style.display = ''
    }
    else {
    }
  }
}
</script>
